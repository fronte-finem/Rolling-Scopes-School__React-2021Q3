query Search($page: Int = 1, $perPage: Int = 5, $type: MediaType, $search: String, $sort: [MediaSort]) {
  Page(page: $page, perPage: $perPage) {
    pageInfo {
      ...pageInfo
    }
    media(type: $type, search: $search, sort: $sort) {
      ...media
    }
  }
}

fragment pageInfo on PageInfo {
  total
  currentPage
  lastPage
  perPage
  hasNextPage
}

fragment media on Media {
  id
  title {
    ...title
  }
  format
  status(version: 2)
  countryOfOrigin
  popularity
  averageScore
  meanScore
  seasonYear
  startDate { year }
  isAdult
  genres
  duration
  episodes
  chapters
  coverImage {
    ...coverImage
  }
  studios(isMain: true) {
    nodes {
      name
    }
  }
}

fragment title on MediaTitle {
  english
  romaji
  native
}

fragment coverImage on MediaCoverImage {
  large
  color
}
